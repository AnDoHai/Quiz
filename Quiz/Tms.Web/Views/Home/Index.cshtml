@model Tms.Models.CategoryModel.CategorySearchModel
@using Tms.Models
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<link rel="stylesheet" type="text/css" href="~/assets/css/jquery.datetimepicker.css">
@*<div>
    <img src="~/Assets/images/IMGALPHA.png" style="margin-top: -17px;" />
</div>*@
<div class="page-content-inner">
    <div class="row form-group">
        <div class="col-md-12">
            <div class="panel panel-default">
                <div class="tab-pane mg-top-25px">
                    <div class="statistical-list-title text-center">                       
                        <img src="~/Assets/images/icon/banner2.jpg" style="border-radius: 18px; margin-bottom: 6px;opacity:0.8">
                    </div>
                    <div class="d-flex justify-content-center">
                        <div class="p-4 m-3" style="width: 80%; border: 2px solid red; border-radius: 18px">
                            <div style="line-height: 2.25rem; margin-bottom: 10px;">
                                &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp Kỳ thi năng lực Hán Ngữ (汉语水平考试 - Hànyǔ Shuǐpíng Kǎoshì), viết tắt là HSK, là kỳ thi đánh giá năng lực tiếng Trung theo tiêu chuẩn quốc tế. Hiện tại kỳ thi gồm 6 cấp độ: HSK cấp 1 đến HSK cấp 6 và Khẩu ngữ Sơ cấp, Trung cấp, Cao cấp. Từ tháng 3/2022 sẽ bổ sung thêm cấp độ HSK7-9.
                            </div>
                            <div style="line-height: 2.25rem;">
                                &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp CỔNG THI THỬ HSK(K) TRỰC TUYẾN là hệ thống thi thử mô phỏng kỳ thi HSK(K) tại nhà theo tiêu chuẩn quốc tế đầu tiên và lớn nhất Việt Nam, hiện hệ thống thi đang cung cấp 5000 lượt thi/ tháng. Thí sinh tham gia thi sẽ được Hội đồng thi chấm điểm và cấp chứng nhận sau 03 ngày làm việc.
                            </div>
                        </div>
                    </div>
                    <div id="main-test">
                        @Html.Partial("~/Views/Home/Partial/_ListItemsQuiz.cshtml",Model)
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="container">
    <button id="model" type="button" style="display:none" class="btn btn-info btn-lg" data-toggle="modal" data-target="#myModal">Quy định</button>
    <!-- Modal -->
    <div class="modal fade in" id="myModal" role="dialog">
        <div class="modal-dialog modal-lg">
            <div class="modal-content" id="resultModel">

            </div>
        </div>
    </div>
</div>
@section styles{
    
}
@section scripts{
    <script src="~/Assets/js/bootstrap-datepicker.js" type="text/javascript"></script>
    <script src="~/Assets/js/datepicker-vi.js" type="text/javascript"></script>

    <script type="text/javascript">
        $(document).ready(function () {
            if (window.localStorage.getItem('QuizContest')) {
                window.localStorage.removeItem('QuizContest');
            }
            if (window.localStorage.getItem('SubmitExam')) {
                window.localStorage.removeItem('SubmitExam');
            }
            if (localStorage.getItem('QuizTime') != null) {
                window.localStorage.removeItem('QuizTime');
            }
            if (window.localStorage.getItem('QuizStatus')) {
                window.localStorage.removeItem('QuizStatus');
            }
            $(document).on("click", ".viewmore", function () {
                var data = $(this).attr('data-id');
                var stringModal = "#layout_modal_rules" + data;
                $(stringModal).modal({ backdrop: 'static', keyboard: false })
                $(stringModal).modal("show");
            });
            $(document).on("click", ".btn_confirm_rules", function () {
                var data = $(this).attr('data-id');
                var examUserHistoryName = "ExamUsers_" + data;
                var examUserHistoryIds = "";
                if (window.localStorage.getItem(examUserHistoryName) != null)
                    examUserHistoryIds = window.localStorage.getItem(examUserHistoryName);
                var dataLevel = $(this).attr('data-level');
                var stringModal = "#layout_modal_rules" + data;
                var stringUrl = "/Quiz/Exam/";
                $(stringModal).modal("hide");
                if (dataLevel != null && dataLevel == "hight") {
                    stringUrl = "/Quiz/ExamHight/";
                }
                $.ajax({
                    url: '/Quiz/GetByExamCode',
                    type: 'POST',
                    data: { id: data, examHistoryIds: examUserHistoryIds },
                    success: function (response) {
                        if (response != null && response.data != null) {
                            localStorage.removeItem(examUserHistoryName);
                            if (response.resetHistory == false) {
                                examUserHistoryIds += response.data + ";";
                                localStorage.setItem(examUserHistoryName, examUserHistoryIds);
                            }
                            
                            if (parseInt(response.data) != 0) {
                                window.location.href = stringUrl + response.data;
                            }
                        }
                    }
                });
            });
            $(document).on("click", ".btn_confirm_rules", function () {
                var data = $(this).attr('data-id');
                var stringModal = "#layout_modal_rules" + data;
                $(stringModal).modal("hide");
            });
        });

    </script>
}
