@model Tms.Models.User.UserModel
@using Tms.Models
@*@using Tms.Core.Helpers*@
@using Tms.Web.Framework.Helpers
<link href="~/Assets/plugins/chosen/chosen.min.custom.css" rel="stylesheet" />
@Html.AntiForgeryToken()

<div class="panel panel-default">
    <div class="">
        <input type="hidden" value="@Request.Params["type"]" id="FormType" name="FormType" />

        <div class="row user-wrapper" style=" border-radius: 10px; backdrop-filter: blur(3px); background-color: rgba(226, 229, 231, 0.103); box-shadow: 2px 2px 10px #db3f4f;">

            <div class="row form-group d-flex justify-content-center" style="margin-top:5%">
                @*<label class="">Tên đầy đủ : </label>*@
                <div class="col-sm-3 col-lg-2 col-md-2">
                    <div class="form-group imgEdit">
                        @if (string.IsNullOrEmpty(Model.Avatar))
                        {
                            <img src="~/Assets/images/defaultavata.png" class="imageAvatar" alt="" />
                        }
                        else
                        {
                            <img src="@Model.Avatar" class="imageAvatar" alt="Alternate Text" />
                        }
                    </div>
                </div>
                <div class="col-sm-5 col-md-4 col-lg-4 d-flex inputs">
                    @Html.TextBoxFor(c => c.UserName, new { @class = "form-control align-middle", @placeholder = "Nhập họ và tên", @maxlength = "30" })
                    @Html.ValidationMessageFor(c => c.UserName)
                </div>
            </div>
            <div class="row form-group d-flex justify-content-center">
                <div class="col-sm-9 col-md-2 col-lg-2 align-middle">
                    <label class="">Hình ảnh: </label>
                </div>
                <div class="col-sm-9 col-md-4 col-lg-4 d-flex">
                    <input class="form-group" type="file" name="ImageFile" id="ImageFile" style="margin: 5px 0px;" placeholder="Chọn ảnh" />
                </div>
            </div>
            <div class="row form-group d-flex justify-content-center">
                <div class="col-sm-9 col-md-2 col-lg-2 align-middle">
                    <label class="align-middle">Email: <span class="color-red">(*)</span></label>
                </div>
                <div class="col-sm-9 col-md-4 col-lg-4 d-flex inputs align-middle">
                    @Html.TextBoxFor(c => c.Email, new { @class = "form-control", @placeholder = "Nhập email", @readonly = "readonly" })
                    @Html.ValidationMessageFor(c => c.Email)
                </div>
            </div>

            <div class="row form-group d-flex justify-content-center">
                <div class="col-sm-9 col-md-2 col-lg-2 align-middle">
                    <label class="">Số điện thoại : <span class="color-red">(*)</span></label>
                </div>
                <div class="col-sm-9 col-md-4 col-lg-4 d-flex inputs ">
                    @Html.TextBoxFor(c => c.Tel, new { @class = "form-control" })
                    @Html.ValidationMessageFor(c => c.Tel)
                </div>
            </div>
            <div class="row form-group d-flex justify-content-center">
                <div class="col-sm-9 col-md-2 col-lg-2 align-middle">
                    <label class="">Tên tiếng trung : </label>
                </div>
                <div class="col-sm-9 col-md-4 col-lg-4 d-flex inputs ">
                    @Html.TextBoxFor(c => c.ChineseName, new { @class = "form-control" })
                </div>
            </div>
            <div class="row form-group d-flex justify-content-center">
                <div class="col-sm-9 col-md-2 col-lg-2 align-middle">
                    <label class="">Giới tính : <span class="color-red">(*)</span></label>
                </div>
                <div class="col-sm-9 col-md-4 col-lg-4 d-flex inputs ">
                    <div class="form-placeholder">
                        @if (ViewBag.Male == 1)
                        {
                            <input type="radio" name="Gender" id="name" value="1" checked="checked" />
                            <label for="male" class="form-label">
                                Nam
                            </label>
                            <input type="radio" name="Gender" id="fename" value="0" />
                            <label for="female" class="form-label">
                                Nữ
                            </label>
                        }
                        else if (ViewBag.Male == 0)
                        {
                            <input type="radio" name="Gender" id="name" value="1" />
                            <label for="male" class="form-label">
                                Nam
                            </label>
                            <input type="radio" name="Gender" id="fename" value="0" checked="checked" />
                            <label for="female" class="form-label">
                                Nữ
                            </label>
                        }
                    </div>
                </div>
            </div>
            <div class="row form-group d-flex justify-content-center">
                <div class="col-sm-9 col-md-2 col-lg-2 align-middle">
                    <label class="">Cấp độ : <span class="color-red">(*)</span></label>
                </div>
                <div class="col-sm-9 col-md-4 col-lg-4 d-flex inputs ">
                    @Html.DropDownListFor(c => c.Level, (List<SelectListItem>)ViewBag.LevelHSK, "---Chọn cấp độ---", new { @class = "form-control" })
                    @Html.ValidationMessageFor(c => c.Level)
                </div>
            </div>
            <div class="row form-group d-flex justify-content-center">
                <div class="col-sm-9 col-md-2 col-lg-2 align-middle">
                    <label class="">Quốc tịch : <span class="color-red">(*)</span></label>
                </div>
                <div class="col-sm-9 col-md-4 col-lg-4 d-flex inputs ">
                    @Html.DropDownListFor(c => c.CountryCode, (List<SelectListItem>)ViewBag.Country, "---Chọn quốc tịch---", new { @class = "form-control" })
                    @Html.ValidationMessageFor(c => c.CountryCode)
                </div>
            </div>
            <div class="row form-group d-flex justify-content-center">
                <div class="col-sm-9 col-md-2 col-lg-2 align-middle">
                    <label class="">Ngày sinh : <span class="color-red">(*)</span></label>
                </div>
                <div class="col-sm-9 col-md-4 col-lg-4 d-flex inputs ">
                    @Html.TextBoxFor(c => c.BirthdayStr, new { @class = "new-input form-control input-brithday datepicker" })
                    @Html.ValidationMessageFor(c => c.BirthdayStr)
                    <span class="color-red" id="erro_birthday"></span>
                </div>
            </div>
            <div class="row form-group d-flex justify-content-center">
                <div class="col-sm-9 col-md-2 col-lg-2 align-middle">
                    <label class="">Loại giấy tờ dự thi: <span class="color-red">(*)</span></label>
                </div>
                <div class="col-sm-9 col-md-4 col-lg-4 d-flex inputs ">
                    @Html.DropDownListFor(c => c.PlaceOfBirth, (List<SelectListItem>)ViewBag.TypePlaceOfBirth, "---Chọn loại giấy tờ---", new { @class = "form-control" })
                    @Html.ValidationMessageFor(c => c.PlaceOfBirth)
                </div>
            </div>
            <div class="row form-group d-flex justify-content-center">
                <div class="col-sm-9 col-md-2 col-lg-2 align-middle">
                    <label class="">Số giấy tờ : <span class="color-red">(*)</span></label>
                </div>
                <div class="col-sm-9 col-md-4 col-lg-4 d-flex inputs ">
                    @Html.TextBoxFor(c => c.IdentityCardNo, new { @class = "form-control" })
                    @Html.ValidationMessageFor(c => c.IdentityCardNo)
                </div>
            </div>

            @if (!Model.IsPhuTrachDonVi)
            {
                <div class="row form-group d-flex justify-content-center">

                    <div class="col-sm-9 col-md-2 col-lg-2 align-middle">
                        <label class="">Mật khẩu : <span class="color-red">(*)</span></label>
                    </div>
                    <div class="col-sm-9 col-md-4 col-lg-4 d-flex inputs ">
                        @*@Html.TextBoxFor(c => c.Password, new { @class = "form-control", @placeholder = "Nhập mật khẩu", @type = "password" })
                            @Html.ValidationMessageFor(c => c.Password)*@
                        <button type="button" class="button-pass" onclick="changePassWord()">Đổi mật khẩu</button>
                    </div>
                    @*<div class="col-sm-2 col-md-2 d-flex col-lg-2" style="margin-top: 1%;">
                            <img src="~/Uploads/Images/ic_note.png" alt="Alternate Text" onclick="changePassWord()" style="width: 25px; height: 25px;" />
                        </div>*@
                </div>


                <div class="change-pass-wrapper" id="profileChangePassData" style="display:none">

                    <div class="row form-group d-flex justify-content-center">
                        <div class="col-sm-9 col-md-2 col-lg-2 align-middle changepass-label">
                            <label class="">Mật khẩu cũ:</label>
                        </div>
                        <div class="col-sm-9 col-md-4 col-lg-4 d-flex inputs-changepass ">
                            <input type="text" name="passOld" id="passOld" placeholder="Nhập lại mật khẩu cũ" class="form-control" />
                            <label class="label-user d-none">@TempData["errorPassOld"]</label>
                        </div>
                    </div>

                    <div class="row form-group d-flex justify-content-center">
                        <div class="col-sm-9 col-md-2 col-lg-2 align-middle changepass-label">
                            <label class="">Mật khẩu mới:</label>
                        </div>
                        <div class="col-sm-9 col-md-4 col-lg-4 d-flex inputs-changepass ">
                            <input type="text" name="passNew" id="passNew" placeholder="Nhập mật khẩu mới" class="form-control" />
                        </div>
                    </div>

                    <div class="row form-group d-flex justify-content-center">
                        <div class="col-sm-9 col-md-2 col-lg-2 align-middle changepass-label">
                            <label class="">Nhập lại mật khẩu mới:</label>
                        </div>
                        <div class="col-sm-9 col-md-4 col-lg-4 d-flex inputs-changepass ">
                            <input type="text" name="passNewAgain" id="passNewAgain" placeholder="Nhập lại mật khẩu mới" class="form-control" />
                            <label class="label-user d-none">@TempData["errorPassNew"]</label>
                        </div>
                    </div>
                </div>

                <div class="col-md-4 hidden">
                    <div class="form-group">
                        <label class="">Nhóm quyền:</label>
                        <div class="d-flex">
                            @Html.TextBoxFor(c => c.RoleName, new { @class = "form-control", @readonly = "readonly" })
                            @Html.HiddenFor(c => c.RoleId)
                            @Html.ValidationMessageFor(c => c.RoleId)
                        </div>
                    </div>
                </div>

                <div class="col-12 mt-5 float-right">
                    <div class="form-actions text-right mr-10 margin-bottom-10" style="position: unset">
                        <button type="submit" id="submitData" class="btn btn-xs rBtn">
                            <i class="fas fa-save"></i> Lưu
                        </button>
                        <button type="button" class="btn-xs btn btn-primary" onclick="location.href='@Url.Action("Index","Home")'">
                            <i class="fas fa-sign-out-alt"></i> Thoát
                        </button>
                    </div>
                </div>

            }

        </div>
    </div>
</div>
